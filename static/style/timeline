<html lang="en"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Case Timeline</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #2ecc71;
            --warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f7f9fc;
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-container, .search-container, .view-toggle {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            flex-grow: 1;
        }
        
        .filter-container {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background-color: var(--light);
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            outline: none;
        }
        
        .filter-btn:hover {
            background-color: var(--secondary);
            color: white;
        }
        
        .filter-btn.active {
            background-color: var(--secondary);
            color: white;
        }
        
        .search-container input {
            width: 100%;
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .view-toggle {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .view-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background-color: var(--light);
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .view-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        .timeline-container {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline {
            position: relative;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--secondary);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 10px;
        }
        
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: white;
            border: 4px solid var(--secondary);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }
        
        .left {
            left: 0;
        }
        
        .right {
            left: 50%;
        }
        
        .right::after {
            left: -10px;
        }
        
        .left::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 18px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid var(--light);
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }
        
        .right::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 18px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid var(--light);
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }
        
        .content {
            padding: 20px;
            background-color: white;
            position: relative;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        
        .content:hover {
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            transform: translateY(-5px);
        }
        
        .date {
            display: inline-block;
            padding: 5px 12px;
            background-color: var(--primary);
            color: white;
            border-radius: 15px;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .content h2 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .content p {
            margin-bottom: 15px;
        }
        
        .people-involved {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 15px;
        }
        
        .person {
            background-color: var(--light);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .person:hover {
            background-color: var(--secondary);
            color: white;
        }
        
        .category-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 5px;
        }
        
        .tag-legal {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .tag-communication {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .tag-health {
            background-color: #d4edda;
            color: #155724;
        }
        
        .tag-social {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .person-profile {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 500px;
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .person-profile.active {
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .profile-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        .profile-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--dark);
            margin-right: 15px;
        }
        
        .profile-title {
            flex-grow: 1;
        }
        
        .profile-title h3 {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .profile-title p {
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .profile-content {
            margin-bottom: 20px;
        }
        
        .events-involved h4 {
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .event-link {
            display: block;
            padding: 8px 10px;
            margin-bottom: 8px;
            background-color: var(--light);
            border-radius: 5px;
            color: var(--dark);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .event-link:hover {
            background-color: var(--secondary);
            color: white;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 99;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        .overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        /* Grid View */
        .grid-container {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px 0;
        }
        
        .grid-item {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .grid-item.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .grid-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }
        
        /* For smaller screens */
        @media screen and (max-width: 768px) {
            .timeline::before {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item::before {
                left: 60px;
                border-width: 10px 10px 10px 0;
                border-color: transparent white transparent transparent;
            }
            
            .left::after, .right::after {
                left: 19px;
            }
            
            .right {
                left: 0;
            }
        }

        .connection-map {
            display: none;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            margin-top: 20px;
        }
        
        #network-diagram {
            width: 100%;
            height: 500px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        
        .timeline-bar {
            height: 80px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            margin: 20px 0;
            padding: 10px;
            overflow-x: auto;
            white-space: nowrap;
            position: relative;
        }
        
        .timeline-bar-inner {
            height: 40px;
            position: relative;
            margin-top: 10px;
        }
        
        .bar-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background-color: var(--secondary);
            transform: translateY(-50%);
        }
        
        .bar-marker {
            position: absolute;
            width: 14px;
            height: 14px;
            background-color: white;
            border: 3px solid var(--secondary);
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            z-index: 2;
            transition: all 0.3s;
        }
        
        .bar-marker:hover {
            transform: translateY(-50%) scale(1.3);
            border-color: var(--accent);
        }
        
        .bar-marker.active {
            border-color: var(--accent);
            background-color: var(--accent);
        }
        
        .bar-label {
            position: absolute;
            bottom: -25px;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: var(--dark);
            white-space: nowrap;
        }
        
        .year-label {
            position: absolute;
            top: -25px;
            transform: translateX(-50%);
            font-size: 0.8rem;
            font-weight: bold;
            color: var(--primary);
        }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css"></head>
<body>
    <div class="container">
        <header>
            <h1>Ben Mak &amp; Ashley Macklin Case Timeline</h1>
            <p>An interactive timeline of events from 2021 to 2024</p>
        </header>
        
        <div class="controls">
            <div class="filter-container">
                <button class="filter-btn" data-filter="all">All Events</button>
                <button class="filter-btn active" data-filter="legal">Legal</button>
                <button class="filter-btn" data-filter="communication">Communications</button>
                <button class="filter-btn" data-filter="health">Health</button>
                <button class="filter-btn" data-filter="social">Social Care</button>
            </div>
            
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search events or people...">
            </div>
            
            <div class="view-toggle">
                <button class="view-btn active" data-view="timeline">Timeline</button>
                <button class="view-btn" data-view="grid">Grid</button>
                <button class="view-btn" data-view="connections">Connections</button>
            </div>
        </div>
        
        <div class="timeline-bar">
            <div class="timeline-bar-inner">
                <div class="bar-line"></div>
                <!-- Time markers will be added here by JavaScript -->
            <div class="year-label" style="left: 0%;">2021</div><div class="year-label" style="left: 25%;">2022</div><div class="year-label" style="left: 50%;">2023</div><div class="year-label" style="left: 75%;">2024</div><div class="bar-marker" data-ids="1,2,3" style="left: 10.4167%;"></div><div class="bar-label" style="left: 10.4167%;">Jun 2021</div><div class="bar-marker" data-ids="4,5" style="left: 12.5%;"></div><div class="bar-label" style="left: 12.5%;">Jul 2021</div><div class="bar-marker" data-ids="6,7,8,9" style="left: 14.5833%;"></div><div class="bar-label" style="left: 14.5833%;">Aug 2021</div><div class="bar-marker" data-ids="10" style="left: 16.6667%;"></div><div class="bar-label" style="left: 16.6667%;">Sep 2021</div><div class="bar-marker" data-ids="11" style="left: 37.5%;"></div><div class="bar-label" style="left: 37.5%;">Jul 2022</div><div class="bar-marker" data-ids="12" style="left: 39.5833%;"></div><div class="bar-label" style="left: 39.5833%;">Aug 2022</div><div class="bar-marker" data-ids="13" style="left: 43.75%;"></div><div class="bar-label" style="left: 43.75%;">Oct 2022</div><div class="bar-marker" data-ids="14" style="left: 45.8333%;"></div><div class="bar-label" style="left: 45.8333%;">Nov 2022</div><div class="bar-marker" data-ids="15,16" style="left: 56.25%;"></div><div class="bar-label" style="left: 56.25%;">Apr 2023</div><div class="bar-marker" data-ids="17" style="left: 60.4167%;"></div><div class="bar-label" style="left: 60.4167%;">Jun 2023</div><div class="bar-marker" data-ids="18" style="left: 62.5%;"></div><div class="bar-label" style="left: 62.5%;">Jul 2023</div><div class="bar-marker" data-ids="19,20" style="left: 64.5833%;"></div><div class="bar-label" style="left: 64.5833%;">Aug 2023</div><div class="bar-marker" data-ids="21" style="left: 66.6667%;"></div><div class="bar-label" style="left: 66.6667%;">Sep 2023</div><div class="bar-marker" data-ids="22" style="left: 68.75%;"></div><div class="bar-label" style="left: 68.75%;">Oct 2023</div><div class="bar-marker" data-ids="23,24,25" style="left: 70.8333%;"></div><div class="bar-label" style="left: 70.8333%;">Nov 2023</div><div class="bar-marker" data-ids="26" style="left: 75%;"></div><div class="bar-label" style="left: 75%;">Jan 2024</div><div class="bar-marker" data-ids="27" style="left: 77.0833%;"></div><div class="bar-label" style="left: 77.0833%;">Feb 2024</div><div class="bar-marker active" data-ids="28,29,30,31" style="left: 83.3333%;"></div><div class="bar-label" style="left: 83.3333%;">May 2024</div></div>
        </div>
        
        <div class="timeline-container">
            <div class="timeline active-view" style="display: block;">
                <!-- Timeline items will be added here by JavaScript -->
            <div class="timeline-item left visible" data-id="1" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">Prior to June 18, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Ben Mak seeking help for Ashley and Abel</h2>
                        <p>Ben Mak has been reaching out for help for the past 3 months regarding concerns, becoming frustrated by being told the family is uncooperative.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="2" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">June 18, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Initial concerns raised to Healthwatch Liverpool</h2>
                        <p>Ben Mak sends emails raising concerns to Healthwatch Liverpool.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="3" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">June 21, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Concerns about appointment handover</h2>
                        <p>Ben Mak expresses concern about the lack of handover for the following week's appointments, highlighting his ongoing attempts to get help.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="4" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">July 26, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Request for written permission</h2>
                        <p>Suzanne Metcalfe (Liverpool City Council) informs Ben Mak that she needs to speak with Ian Knight regarding written permission, noting Ian Knight is on leave until Wednesday.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span><span class="person" data-person="ian-knight">Ian Knight</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="5" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">July 30, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Follow-up communication</h2>
                        <p>Ben Mak asks for an update. Ian Knight replies requesting written consent and details of concerns, offering to call Ben the following week.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ian-knight">Ian Knight</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="6" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">August 3, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Ben Mak expresses frustration</h2>
                        <p>Ben Mak replies to Ian Knight, expressing concern that Ian is unaware of the extensive concerns raised with various individuals and organizations, including the Assistant Director of Early Help, Healthwatch Liverpool, the Chief Exec of the city council, and his MP.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ian-knight">Ian Knight</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="7" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">August 5, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Personal impact statement</h2>
                        <p>Ben Mak describes the negative impact of the situation on his personal and professional life, including the disruption to his PhD preparations and a new educational platform.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="8" data-category="legal">
                    <div class="content">
                        <span class="date">August 10, 2021</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Urgent child protection concerns raised</h2>
                        <p>Ben Mak sends an urgent email regarding "Local Authority Failed Section 17 Child in need and Local autorites cause Section 47".</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span><span class="person" data-person="tyra-pether">Tyra Pether</span><span class="person" data-person="ian-knight">Ian Knight</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="9" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">August 11, 2021</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Response from children's services</h2>
                        <p>Tyra Pether replies stating she will review the case and address issues, while noting confidentiality limitations. Ben Mak sends follow-up stating he is acting as Ashley's advocate with consent pack.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="tyra-pether">Tyra Pether</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="10" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">September 17, 2021</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Child in Need Meeting concerns</h2>
                        <p>Ben Mak sends an email regarding a Child in Need Meeting, including concerns about housing issues (blocked bathroom sink) and the need for an explorative list of available services.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="11" data-category="legal">
                    <div class="content">
                        <span class="date">July 2022</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Alleged knife incident</h2>
                        <p>Ashley Macklin allegedly threatened Ben Mak with a knife.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="12" data-category="health" style="display: none;">
                    <div class="content">
                        <span class="date">August 2022</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Positive drug test</h2>
                        <p>Ms Ashley Macklin tested positive for cannabis, cocaine and morphine.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="13" data-category="communication" style="display: none;">
                    <div class="content">
                        <span class="date">October 6, 2022</span>
                        <span class="category-tag tag-communication">Communication</span>
                        <h2>Online posting about negative impact</h2>
                        <p>An online posting titled "Suzanne Metcalfe Ben Mak London Killed" appears, referencing the negative impact on Ben Mak's brand, identity, and himself.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="14" data-category="legal">
                    <div class="content">
                        <span class="date">November 14, 2022</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Formal consent from Ashley Macklin</h2>
                        <p>Ben Mak forwards an email from Ashley Macklin providing her consent for him to act on behalf of her and Abel. Ashley states her father Derek Macklin agrees and that Ben has been wrongfully accused.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span><span class="person" data-person="derek-macklin">Derek Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="15" data-category="legal">
                    <div class="content">
                        <span class="date">April 14, 2023</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Crown Prosecution case hearing</h2>
                        <p>A Crown Prosecution case related to the social workers' actions, with Ashley Macklin charged with Affray against Ben Mak. Defendants listed are Maria Moore, Emily Bailey, and Susanne Fazackerly (child social workers).</p>
                        <div class="people-involved">
                            <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="16" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">April 24, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Alleged hair-pulling incident</h2>
                        <p>The mother allegedly pulled the child's hair.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="17" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">June 22, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Allegations about paternal grandmother</h2>
                        <p>The mother stated the paternal grandmother spat at the child and pushed him over.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="18" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">July 3-4, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Late night pub incident</h2>
                        <p>The father took the child to the pub at 1 am.</p>
                        <div class="people-involved">
                            <span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="19" data-category="legal">
                    <div class="content">
                        <span class="date">August 1, 2023</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Family Court hearing</h2>
                        <p>A Liverpool Family Court hearing is scheduled for the local authority's position statement regarding the removal of Abel Macklin from Ashley Macklin's care.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="20" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">August 21, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Viability assessment attempt</h2>
                        <p>A social worker contacts Frank Daly regarding a viability assessment but notes no response.</p>
                        <div class="people-involved">
                            <span class="person" data-person="frank-daly">Frank Daly</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="21" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">September 9, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Lockout incident</h2>
                        <p>Documented lockout incident.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="22" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">October 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Death of Derek Macklin</h2>
                        <p>Ashley Macklin's father dies.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="derek-macklin">Derek Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="23" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">November 17, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Derek Macklin's funeral</h2>
                        <p>Ashley Macklin's father's funeral. The social worker noted Frank Daly needed to check his work schedule for a meeting.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="derek-macklin">Derek Macklin</span><span class="person" data-person="frank-daly">Frank Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="24" data-category="social" style="display: none;">
                    <div class="content">
                        <span class="date">November 20-21, 2023</span>
                        <span class="category-tag tag-social">Social</span>
                        <h2>Failed contact attempts with Frank Daly</h2>
                        <p>Social worker attempts contact with Frank Daly multiple times, with no reply.</p>
                        <div class="people-involved">
                            <span class="person" data-person="frank-daly">Frank Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="25" data-category="legal">
                    <div class="content">
                        <span class="date">November 27, 2023</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Abel removed from Ashley's care</h2>
                        <p>Abel Macklin is removed from Ashley Macklin's care.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="26" data-category="health" style="display: none;">
                    <div class="content">
                        <span class="date">January 2024</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Multiple health developments</h2>
                        <p>Ashley reports last using cannabis, reports testing positive for cannabis and morphine, and her mother is diagnosed with carcinoma. Ashley reports only smoking one joint per night and decides to stop smoking.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="27" data-category="legal">
                    <div class="content">
                        <span class="date">February 2024</span>
                        <span class="category-tag tag-legal">Legal</span>
                        <h2>Car theft incident</h2>
                        <p>Ashley Macklin's mobility car is stolen and returned on the same day.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="28" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <div class="content">
                        <span class="date">May 19, 2024</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Mental health intervention</h2>
                        <p>Ashley Macklin comes to the attention of mental health services and is seen by the liaison psychiatry team at Aintree.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="29" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <div class="content">
                        <span class="date">May 20, 2024</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Psychiatric admission</h2>
                        <p>Ashley Macklin is admitted to Brunswick Ward under Section 2 of the Mental Health Act due to suspected first episode psychosis.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item right visible" data-id="30" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <div class="content">
                        <span class="date">May 28, 2024</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Ward round assessment</h2>
                        <p>During a ward round, Ashley Macklin expresses a desire to be discharged and reiterates beliefs of a conspiracy against her.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div><div class="timeline-item left visible" data-id="31" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <div class="content">
                        <span class="date">May 31, 2024</span>
                        <span class="category-tag tag-health">Health</span>
                        <h2>Medication refusal</h2>
                        <p>Ashley Macklin declines antipsychotic medication. She is accepted by the Early Intervention in Psychosis Team.</p>
                        <div class="people-involved">
                            <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                        </div>
                    </div>
                </div></div>
            
            <div class="grid-container" style="display: none;">
                <!-- Grid items will be added here by JavaScript -->
            <div class="grid-item visible" data-id="1" data-category="communication" style="display: none;">
                    <span class="date">Prior to June 18, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Ben Mak seeking help for Ashley and Abel</h2>
                    <p>Ben Mak has been reaching out for help for the past 3 months regarding concerns, becoming frustrated by being told the family is uncooperative.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="2" data-category="communication" style="display: none;">
                    <span class="date">June 18, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Initial concerns raised to Healthwatch Liverpool</h2>
                    <p>Ben Mak sends emails raising concerns to Healthwatch Liverpool.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span>
                    </div>
                </div><div class="grid-item visible" data-id="3" data-category="communication" style="display: none;">
                    <span class="date">June 21, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Concerns about appointment handover</h2>
                    <p>Ben Mak expresses concern about the lack of handover for the following week's appointments, highlighting his ongoing attempts to get help.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span>
                    </div>
                </div><div class="grid-item visible" data-id="4" data-category="communication" style="display: none;">
                    <span class="date">July 26, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Request for written permission</h2>
                    <p>Suzanne Metcalfe (Liverpool City Council) informs Ben Mak that she needs to speak with Ian Knight regarding written permission, noting Ian Knight is on leave until Wednesday.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span><span class="person" data-person="ian-knight">Ian Knight</span>
                    </div>
                </div><div class="grid-item visible" data-id="5" data-category="communication" style="display: none;">
                    <span class="date">July 30, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Follow-up communication</h2>
                    <p>Ben Mak asks for an update. Ian Knight replies requesting written consent and details of concerns, offering to call Ben the following week.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ian-knight">Ian Knight</span>
                    </div>
                </div><div class="grid-item visible" data-id="6" data-category="communication" style="display: none;">
                    <span class="date">August 3, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Ben Mak expresses frustration</h2>
                    <p>Ben Mak replies to Ian Knight, expressing concern that Ian is unaware of the extensive concerns raised with various individuals and organizations, including the Assistant Director of Early Help, Healthwatch Liverpool, the Chief Exec of the city council, and his MP.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ian-knight">Ian Knight</span>
                    </div>
                </div><div class="grid-item visible" data-id="7" data-category="communication" style="display: none;">
                    <span class="date">August 5, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Personal impact statement</h2>
                    <p>Ben Mak describes the negative impact of the situation on his personal and professional life, including the disruption to his PhD preparations and a new educational platform.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span>
                    </div>
                </div><div class="grid-item visible" data-id="8" data-category="legal">
                    <span class="date">August 10, 2021</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Urgent child protection concerns raised</h2>
                    <p>Ben Mak sends an urgent email regarding "Local Authority Failed Section 17 Child in need and Local autorites cause Section 47".</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span><span class="person" data-person="tyra-pether">Tyra Pether</span><span class="person" data-person="ian-knight">Ian Knight</span>
                    </div>
                </div><div class="grid-item visible" data-id="9" data-category="communication" style="display: none;">
                    <span class="date">August 11, 2021</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Response from children's services</h2>
                    <p>Tyra Pether replies stating she will review the case and address issues, while noting confidentiality limitations. Ben Mak sends follow-up stating he is acting as Ashley's advocate with consent pack.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="tyra-pether">Tyra Pether</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="10" data-category="social" style="display: none;">
                    <span class="date">September 17, 2021</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Child in Need Meeting concerns</h2>
                    <p>Ben Mak sends an email regarding a Child in Need Meeting, including concerns about housing issues (blocked bathroom sink) and the need for an explorative list of available services.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="11" data-category="legal">
                    <span class="date">July 2022</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Alleged knife incident</h2>
                    <p>Ashley Macklin allegedly threatened Ben Mak with a knife.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="12" data-category="health" style="display: none;">
                    <span class="date">August 2022</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Positive drug test</h2>
                    <p>Ms Ashley Macklin tested positive for cannabis, cocaine and morphine.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="13" data-category="communication" style="display: none;">
                    <span class="date">October 6, 2022</span>
                    <span class="category-tag tag-communication">Communication</span>
                    <h2>Online posting about negative impact</h2>
                    <p>An online posting titled "Suzanne Metcalfe Ben Mak London Killed" appears, referencing the negative impact on Ben Mak's brand, identity, and himself.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="suzanne-metcalfe">Suzanne Metcalfe</span>
                    </div>
                </div><div class="grid-item visible" data-id="14" data-category="legal">
                    <span class="date">November 14, 2022</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Formal consent from Ashley Macklin</h2>
                    <p>Ben Mak forwards an email from Ashley Macklin providing her consent for him to act on behalf of her and Abel. Ashley states her father Derek Macklin agrees and that Ben has been wrongfully accused.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span><span class="person" data-person="derek-macklin">Derek Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="15" data-category="legal">
                    <span class="date">April 14, 2023</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Crown Prosecution case hearing</h2>
                    <p>A Crown Prosecution case related to the social workers' actions, with Ashley Macklin charged with Affray against Ben Mak. Defendants listed are Maria Moore, Emily Bailey, and Susanne Fazackerly (child social workers).</p>
                    <div class="people-involved">
                        <span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="16" data-category="social" style="display: none;">
                    <span class="date">April 24, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Alleged hair-pulling incident</h2>
                    <p>The mother allegedly pulled the child's hair.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="17" data-category="social" style="display: none;">
                    <span class="date">June 22, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Allegations about paternal grandmother</h2>
                    <p>The mother stated the paternal grandmother spat at the child and pushed him over.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="18" data-category="social" style="display: none;">
                    <span class="date">July 3-4, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Late night pub incident</h2>
                    <p>The father took the child to the pub at 1 am.</p>
                    <div class="people-involved">
                        <span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="19" data-category="legal">
                    <span class="date">August 1, 2023</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Family Court hearing</h2>
                    <p>A Liverpool Family Court hearing is scheduled for the local authority's position statement regarding the removal of Abel Macklin from Ashley Macklin's care.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="20" data-category="social" style="display: none;">
                    <span class="date">August 21, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Viability assessment attempt</h2>
                    <p>A social worker contacts Frank Daly regarding a viability assessment but notes no response.</p>
                    <div class="people-involved">
                        <span class="person" data-person="frank-daly">Frank Daly</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="21" data-category="social" style="display: none;">
                    <span class="date">September 9, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Lockout incident</h2>
                    <p>Documented lockout incident.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="22" data-category="social" style="display: none;">
                    <span class="date">October 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Death of Derek Macklin</h2>
                    <p>Ashley Macklin's father dies.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="derek-macklin">Derek Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="23" data-category="social" style="display: none;">
                    <span class="date">November 17, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Derek Macklin's funeral</h2>
                    <p>Ashley Macklin's father's funeral. The social worker noted Frank Daly needed to check his work schedule for a meeting.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="ben-mak">Ben Mak</span><span class="person" data-person="derek-macklin">Derek Macklin</span><span class="person" data-person="frank-daly">Frank Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="24" data-category="social" style="display: none;">
                    <span class="date">November 20-21, 2023</span>
                    <span class="category-tag tag-social">Social</span>
                    <h2>Failed contact attempts with Frank Daly</h2>
                    <p>Social worker attempts contact with Frank Daly multiple times, with no reply.</p>
                    <div class="people-involved">
                        <span class="person" data-person="frank-daly">Frank Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="25" data-category="legal">
                    <span class="date">November 27, 2023</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Abel removed from Ashley's care</h2>
                    <p>Abel Macklin is removed from Ashley Macklin's care.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span><span class="person" data-person="abel-macklin">Abel Macklin-Daly</span>
                    </div>
                </div><div class="grid-item visible" data-id="26" data-category="health" style="display: none;">
                    <span class="date">January 2024</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Multiple health developments</h2>
                    <p>Ashley reports last using cannabis, reports testing positive for cannabis and morphine, and her mother is diagnosed with carcinoma. Ashley reports only smoking one joint per night and decides to stop smoking.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="27" data-category="legal">
                    <span class="date">February 2024</span>
                    <span class="category-tag tag-legal">Legal</span>
                    <h2>Car theft incident</h2>
                    <p>Ashley Macklin's mobility car is stolen and returned on the same day.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="28" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <span class="date">May 19, 2024</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Mental health intervention</h2>
                    <p>Ashley Macklin comes to the attention of mental health services and is seen by the liaison psychiatry team at Aintree.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="29" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <span class="date">May 20, 2024</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Psychiatric admission</h2>
                    <p>Ashley Macklin is admitted to Brunswick Ward under Section 2 of the Mental Health Act due to suspected first episode psychosis.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="30" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <span class="date">May 28, 2024</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Ward round assessment</h2>
                    <p>During a ward round, Ashley Macklin expresses a desire to be discharged and reiterates beliefs of a conspiracy against her.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div><div class="grid-item visible" data-id="31" data-category="health" style="border-left: 4px solid var(--accent); border-right: 4px solid var(--accent); display: none;">
                    <span class="date">May 31, 2024</span>
                    <span class="category-tag tag-health">Health</span>
                    <h2>Medication refusal</h2>
                    <p>Ashley Macklin declines antipsychotic medication. She is accepted by the Early Intervention in Psychosis Team.</p>
                    <div class="people-involved">
                        <span class="person" data-person="ashley-macklin">Ashley Macklin</span>
                    </div>
                </div></div>
            
            <div class="connection-map" style="display: none;">
                <h2>People &amp; Events Connection Map</h2>
                <p>This diagram shows the relationships between key individuals and events in the case.</p>
                <div id="network-diagram">
                    <div style="padding: 20px; text-align: center;">
                        <h3>Interactive Connection Map</h3>
                        <p>This would show the connections between the following key people:</p>
                        <ul style="list-style: none; margin-top: 20px;">
                            <li><strong>Ben Mak</strong> - Director of Being Un Limited, Advocate</li><li><strong>Ashley Macklin</strong> - Mother of Abel Macklin</li><li><strong>Abel Macklin-Daly</strong> - Child subject to care proceedings</li><li><strong>Suzanne Metcalfe</strong> - Assistant Director - Early Help at Liverpool City Council</li><li><strong>Ian Knight</strong> - Team Manager, Customer Quality and Information</li><li><strong>Tyra Pether</strong> - Service Manager, Liverpool Children Services</li><li><strong>Frank Daly</strong> - Paternal uncle of Abel Macklin</li><li><strong>Derek Macklin</strong> - Father of Ben and Ashley, grandfather of Abel</li>
                        </ul>
                        <p style="margin-top: 20px;">The network would visualize how these individuals are connected through the 31 events in the timeline.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="person-profile">
            <div class="profile-header">
                <div class="profile-img">A</div>
                <div class="profile-title">
                    <h3>Ashley Macklin</h3>
                    <p>Mother of Abel Macklin</p>
                </div>
                <button class="profile-close">×</button>
            </div>
            <div class="profile-content">
                <p>Mother of Abel Macklin and sister of Ben Mak. The central figure of the concerns raised, facing mental health challenges (including a diagnosis of First Episode Psychosis in May 2024) and issues with her son's care. Was subject to family court proceedings regarding Abel's removal from her care. Reported being drugged and experienced flashbacks of past trauma.</p>
            </div>
            <div class="events-involved">
                <h4>Involved in Events:</h4>
                <div class="events-list"><a class="event-link" href="#" data-event-id="1">Prior to June 18, 2021: Ben Mak seeking help for Ashley and Abel</a><a class="event-link" href="#" data-event-id="9">August 11, 2021: Response from children's services</a><a class="event-link" href="#" data-event-id="11">July 2022: Alleged knife incident</a><a class="event-link" href="#" data-event-id="12">August 2022: Positive drug test</a><a class="event-link" href="#" data-event-id="14">November 14, 2022: Formal consent from Ashley Macklin</a><a class="event-link" href="#" data-event-id="15">April 14, 2023: Crown Prosecution case hearing</a><a class="event-link" href="#" data-event-id="16">April 24, 2023: Alleged hair-pulling incident</a><a class="event-link" href="#" data-event-id="17">June 22, 2023: Allegations about paternal grandmother</a><a class="event-link" href="#" data-event-id="19">August 1, 2023: Family Court hearing</a><a class="event-link" href="#" data-event-id="21">September 9, 2023: Lockout incident</a><a class="event-link" href="#" data-event-id="22">October 2023: Death of Derek Macklin</a><a class="event-link" href="#" data-event-id="23">November 17, 2023: Derek Macklin's funeral</a><a class="event-link" href="#" data-event-id="25">November 27, 2023: Abel removed from Ashley's care</a><a class="event-link" href="#" data-event-id="26">January 2024: Multiple health developments</a><a class="event-link" href="#" data-event-id="27">February 2024: Car theft incident</a><a class="event-link" href="#" data-event-id="28">May 19, 2024: Mental health intervention</a><a class="event-link" href="#" data-event-id="29">May 20, 2024: Psychiatric admission</a><a class="event-link" href="#" data-event-id="30">May 28, 2024: Ward round assessment</a><a class="event-link" href="#" data-event-id="31">May 31, 2024: Medication refusal</a></div>
            </div>
        </div>
        
        <div class="overlay"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // People data
            const people = [
                {
                    id: 'ben-mak',
                    name: 'Ben Mak',
                    role: 'Director of Being Un Limited, Advocate',
                    bio: 'Director of Being Un Limited, a transformational coaching and therapy service. Brother of Ashley Macklin and maternal uncle of Abel Macklin. Acted as an advocate for his sister and nephew, raising concerns about their care and the actions of local authorities. Was offered university places to study law. Described as a "Good Samaritan" for a previous act of heroism.',
                    events: []
                },
                {
                    id: 'ashley-macklin',
                    name: 'Ashley Macklin',
                    role: 'Mother of Abel Macklin',
                    bio: 'Mother of Abel Macklin and sister of Ben Mak. The central figure of the concerns raised, facing mental health challenges (including a diagnosis of First Episode Psychosis in May 2024) and issues with her son\'s care. Was subject to family court proceedings regarding Abel\'s removal from her care. Reported being drugged and experienced flashbacks of past trauma.',
                    events: []
                },
                {
                    id: 'abel-macklin',
                    name: 'Abel Macklin-Daly',
                    role: 'Child subject to care proceedings',
                    bio: 'Son of Ashley Macklin. Subject of child in need and safeguarding concerns.',
                    events: []
                },
                {
                    id: 'suzanne-metcalfe',
                    name: 'Suzanne Metcalfe',
                    role: 'Assistant Director - Early Help at Liverpool City Council',
                    bio: 'Assistant Director -- Early Help at Liverpool City Council. Involved in the initial communication regarding the concerns raised by Ben Mak.',
                    events: []
                },
                {
                    id: 'ian-knight',
                    name: 'Ian Knight',
                    role: 'Team Manager, Customer Quality and Information',
                    bio: 'Team Manager for Customer Quality and Information at Liverpool City Council. Contacted by Suzanne Metcalfe regarding the need for written consent related to Ben Mak\'s concerns.',
                    events: []
                },
                {
                    id: 'tyra-pether',
                    name: 'Tyra Pether',
                    role: 'Service Manager, Liverpool Children Services',
                    bio: 'Service Manager at Liverpool Children Services Careline MASH and Assessment Service. Responded to Ben Mak\'s urgent concerns regarding child protection.',
                    events: []
                },
                {
                    id: 'frank-daly',
                    name: 'Frank Daly',
                    role: 'Paternal uncle of Abel Macklin',
                    bio: 'Paternal uncle of Abel Macklin. Contacted by social services for a viability assessment but did not respond.',
                    events: []
                },
                {
                    id: 'derek-macklin',
                    name: 'Derek Macklin',
                    role: 'Father of Ben and Ashley, grandfather of Abel',
                    bio: 'Father of Ben and Ashley Macklin, grandfather of Abel Macklin. Agreed with Ashley\'s decision to give Ben authority to act on their behalf. Died in October 2023.',
                    events: []
                }
            ];

            // Timeline Events Data
            const timelineData = [
                {
                    id: 1,
                    date: 'Prior to June 18, 2021',
                    title: 'Ben Mak seeking help for Ashley and Abel',
                    description: 'Ben Mak has been reaching out for help for the past 3 months regarding concerns, becoming frustrated by being told the family is uncooperative.',
                    category: 'communication',
                    people: ['ben-mak', 'ashley-macklin', 'abel-macklin']
                },
                {
                    id: 2,
                    date: 'June 18, 2021',
                    title: 'Initial concerns raised to Healthwatch Liverpool',
                    description: 'Ben Mak sends emails raising concerns to Healthwatch Liverpool.',
                    category: 'communication',
                    people: ['ben-mak']
                },
                {
                    id: 3,
                    date: 'June 21, 2021',
                    title: 'Concerns about appointment handover',
                    description: 'Ben Mak expresses concern about the lack of handover for the following week\'s appointments, highlighting his ongoing attempts to get help.',
                    category: 'communication',
                    people: ['ben-mak']
                },
                {
                    id: 4,
                    date: 'July 26, 2021',
                    title: 'Request for written permission',
                    description: 'Suzanne Metcalfe (Liverpool City Council) informs Ben Mak that she needs to speak with Ian Knight regarding written permission, noting Ian Knight is on leave until Wednesday.',
                    category: 'communication',
                    people: ['ben-mak', 'suzanne-metcalfe', 'ian-knight']
                },
                {
                    id: 5,
                    date: 'July 30, 2021',
                    title: 'Follow-up communication',
                    description: 'Ben Mak asks for an update. Ian Knight replies requesting written consent and details of concerns, offering to call Ben the following week.',
                    category: 'communication',
                    people: ['ben-mak', 'ian-knight']
                },
                {
                    id: 6,
                    date: 'August 3, 2021',
                    title: 'Ben Mak expresses frustration',
                    description: 'Ben Mak replies to Ian Knight, expressing concern that Ian is unaware of the extensive concerns raised with various individuals and organizations, including the Assistant Director of Early Help, Healthwatch Liverpool, the Chief Exec of the city council, and his MP.',
                    category: 'communication',
                    people: ['ben-mak', 'ian-knight']
                },
                {
                    id: 7,
                    date: 'August 5, 2021',
                    title: 'Personal impact statement',
                    description: 'Ben Mak describes the negative impact of the situation on his personal and professional life, including the disruption to his PhD preparations and a new educational platform.',
                    category: 'communication',
                    people: ['ben-mak']
                },
                {
                    id: 8,
                    date: 'August 10, 2021',
                    title: 'Urgent child protection concerns raised',
                    description: 'Ben Mak sends an urgent email regarding "Local Authority Failed Section 17 Child in need and Local autorites cause Section 47".',
                    category: 'legal',
                    people: ['ben-mak', 'suzanne-metcalfe', 'tyra-pether', 'ian-knight']
                },
                {
                    id: 9,
                    date: 'August 11, 2021',
                    title: 'Response from children\'s services',
                    description: 'Tyra Pether replies stating she will review the case and address issues, while noting confidentiality limitations. Ben Mak sends follow-up stating he is acting as Ashley\'s advocate with consent pack.',
                    category: 'communication',
                    people: ['ben-mak', 'tyra-pether', 'ashley-macklin']
                },
                {
                    id: 10,
                    date: 'September 17, 2021',
                    title: 'Child in Need Meeting concerns',
                    description: 'Ben Mak sends an email regarding a Child in Need Meeting, including concerns about housing issues (blocked bathroom sink) and the need for an explorative list of available services.',
                    category: 'social',
                    people: ['ben-mak', 'abel-macklin']
                },
                {
                    id: 11,
                    date: 'July 2022',
                    title: 'Alleged knife incident',
                    description: 'Ashley Macklin allegedly threatened Ben Mak with a knife.',
                    category: 'legal',
                    people: ['ben-mak', 'ashley-macklin']
                },
                {
                    id: 12,
                    date: 'August 2022',
                    title: 'Positive drug test',
                    description: 'Ms Ashley Macklin tested positive for cannabis, cocaine and morphine.',
                    category: 'health',
                    people: ['ashley-macklin']
                },
                {
                    id: 13,
                    date: 'October 6, 2022',
                    title: 'Online posting about negative impact',
                    description: 'An online posting titled "Suzanne Metcalfe Ben Mak London Killed" appears, referencing the negative impact on Ben Mak\'s brand, identity, and himself.',
                    category: 'communication',
                    people: ['ben-mak', 'suzanne-metcalfe']
                },
                {
                    id: 14,
                    date: 'November 14, 2022',
                    title: 'Formal consent from Ashley Macklin',
                    description: 'Ben Mak forwards an email from Ashley Macklin providing her consent for him to act on behalf of her and Abel. Ashley states her father Derek Macklin agrees and that Ben has been wrongfully accused.',
                    category: 'legal',
                    people: ['ben-mak', 'ashley-macklin', 'abel-macklin', 'derek-macklin']
                },
                {
                    id: 15,
                    date: 'April 14, 2023',
                    title: 'Crown Prosecution case hearing',
                    description: 'A Crown Prosecution case related to the social workers\' actions, with Ashley Macklin charged with Affray against Ben Mak. Defendants listed are Maria Moore, Emily Bailey, and Susanne Fazackerly (child social workers).',
                    category: 'legal',
                    people: ['ben-mak', 'ashley-macklin']
                },
                {
                    id: 16,
                    date: 'April 24, 2023',
                    title: 'Alleged hair-pulling incident',
                    description: 'The mother allegedly pulled the child\'s hair.',
                    category: 'social',
                    people: ['ashley-macklin', 'abel-macklin']
                },
                {
                    id: 17,
                    date: 'June 22, 2023',
                    title: 'Allegations about paternal grandmother',
                    description: 'The mother stated the paternal grandmother spat at the child and pushed him over.',
                    category: 'social',
                    people: ['ashley-macklin', 'abel-macklin']
                },
                {
                    id: 18,
                    date: 'July 3-4, 2023',
                    title: 'Late night pub incident',
                    description: 'The father took the child to the pub at 1 am.',
                    category: 'social',
                    people: ['abel-macklin']
                },
                {
                    id: 19,
                    date: 'August 1, 2023',
                    title: 'Family Court hearing',
                    description: 'A Liverpool Family Court hearing is scheduled for the local authority\'s position statement regarding the removal of Abel Macklin from Ashley Macklin\'s care.',
                    category: 'legal',
                    people: ['ashley-macklin', 'abel-macklin']
                },
                {
                    id: 20,
                    date: 'August 21, 2023',
                    title: 'Viability assessment attempt',
                    description: 'A social worker contacts Frank Daly regarding a viability assessment but notes no response.',
                    category: 'social',
                    people: ['frank-daly', 'abel-macklin']
                },
                {
                    id: 21,
                    date: 'September 9, 2023',
                    title: 'Lockout incident',
                    description: 'Documented lockout incident.',
                    category: 'social',
                    people: ['ashley-macklin', 'abel-macklin']
                },
                {
                    id: 22,
                    date: 'October 2023',
                    title: 'Death of Derek Macklin',
                    description: 'Ashley Macklin\'s father dies.',
                    category: 'social',
                    people: ['ashley-macklin', 'ben-mak', 'derek-macklin']
                },
                {
                    id: 23,
                    date: 'November 17, 2023',
                    title: 'Derek Macklin\'s funeral',
                    description: 'Ashley Macklin\'s father\'s funeral. The social worker noted Frank Daly needed to check his work schedule for a meeting.',
                    category: 'social',
                    people: ['ashley-macklin', 'ben-mak', 'derek-macklin', 'frank-daly']
                },
                {
                    id: 24,
                    date: 'November 20-21, 2023',
                    title: 'Failed contact attempts with Frank Daly',
                    description: 'Social worker attempts contact with Frank Daly multiple times, with no reply.',
                    category: 'social',
                    people: ['frank-daly']
                },
                {
                    id: 25,
                    date: 'November 27, 2023',
                    title: 'Abel removed from Ashley\'s care',
                    description: 'Abel Macklin is removed from Ashley Macklin\'s care.',
                    category: 'legal',
                    people: ['ashley-macklin', 'abel-macklin']
                },
                {
                    id: 26,
                    date: 'January 2024',
                    title: 'Multiple health developments',
                    description: 'Ashley reports last using cannabis, reports testing positive for cannabis and morphine, and her mother is diagnosed with carcinoma. Ashley reports only smoking one joint per night and decides to stop smoking.',
                    category: 'health',
                    people: ['ashley-macklin']
                },
                {
                    id: 27,
                    date: 'February 2024',
                    title: 'Car theft incident',
                    description: 'Ashley Macklin\'s mobility car is stolen and returned on the same day.',
                    category: 'legal',
                    people: ['ashley-macklin']
                },
                {
                    id: 28,
                    date: 'May 19, 2024',
                    title: 'Mental health intervention',
                    description: 'Ashley Macklin comes to the attention of mental health services and is seen by the liaison psychiatry team at Aintree.',
                    category: 'health',
                    people: ['ashley-macklin']
                },
                {
                    id: 29,
                    date: 'May 20, 2024',
                    title: 'Psychiatric admission',
                    description: 'Ashley Macklin is admitted to Brunswick Ward under Section 2 of the Mental Health Act due to suspected first episode psychosis.',
                    category: 'health',
                    people: ['ashley-macklin']
                },
                {
                    id: 30,
                    date: 'May 28, 2024',
                    title: 'Ward round assessment',
                    description: 'During a ward round, Ashley Macklin expresses a desire to be discharged and reiterates beliefs of a conspiracy against her.',
                    category: 'health',
                    people: ['ashley-macklin']
                },
                {
                    id: 31,
                    date: 'May 31, 2024',
                    title: 'Medication refusal',
                    description: 'Ashley Macklin declines antipsychotic medication. She is accepted by the Early Intervention in Psychosis Team.',
                    category: 'health',
                    people: ['ashley-macklin']
                }
            ];

            // Create Timeline and Grid Items
            const timelineContainer = document.querySelector('.timeline');
            const gridContainer = document.querySelector('.grid-container');
            
            // Update people's events lists
            timelineData.forEach(event => {
                event.people.forEach(personId => {
                    const person = people.find(p => p.id === personId);
                    if (person) {
                        person.events.push(event.id);
                    }
                });
            });
            
            // Populate timeline
            timelineData.forEach((item, index) => {
                const isLeft = index % 2 === 0;
                const sideClass = isLeft ? 'left' : 'right';
                
                // Create timeline item
                const timelineItem = document.createElement('div');
                timelineItem.className = `timeline-item ${sideClass}`;
                timelineItem.dataset.id = item.id;
                timelineItem.dataset.category = item.category;
                
                // Create category tag class
                const categoryClass = `tag-${item.category}`;
                
                // Create content for timeline item
                timelineItem.innerHTML = `
                    <div class="content">
                        <span class="date">${item.date}</span>
                        <span class="category-tag ${categoryClass}">${item.category.charAt(0).toUpperCase() + item.category.slice(1)}</span>
                        <h2>${item.title}</h2>
                        <p>${item.description}</p>
                        <div class="people-involved">
                            ${item.people.map(personId => {
                                const person = people.find(p => p.id === personId);
                                return person ? `<span class="person" data-person="${personId}">${person.name}</span>` : '';
                            }).join('')}
                        </div>
                    </div>
                `;
                
                timelineContainer.appendChild(timelineItem);
                
                // Create grid item
                const gridItem = document.createElement('div');
                gridItem.className = 'grid-item';
                gridItem.dataset.id = item.id;
                gridItem.dataset.category = item.category;
                
                // Create content for grid item
                gridItem.innerHTML = `
                    <span class="date">${item.date}</span>
                    <span class="category-tag ${categoryClass}">${item.category.charAt(0).toUpperCase() + item.category.slice(1)}</span>
                    <h2>${item.title}</h2>
                    <p>${item.description}</p>
                    <div class="people-involved">
                        ${item.people.map(personId => {
                            const person = people.find(p => p.id === personId);
                            return person ? `<span class="person" data-person="${personId}">${person.name}</span>` : '';
                        }).join('')}
                    </div>
                `;
                
                gridContainer.appendChild(gridItem);
            });
            
            // Add timeline bar markers
            const timelineBar = document.querySelector('.timeline-bar-inner');
            const barWidth = timelineBar.offsetWidth;
            
            // Group events by year and month
            const eventsByDate = {};
            timelineData.forEach(event => {
                let date = event.date;
                
                // Extract year and month if possible
                let year = null;
                let month = null;
                
                if (date.includes("2021")) year = 2021;
                else if (date.includes("2022")) year = 2022;
                else if (date.includes("2023")) year = 2023;
                else if (date.includes("2024")) year = 2024;
                
                if (date.includes("January")) month = 0;
                else if (date.includes("February")) month = 1;
                else if (date.includes("March")) month = 2;
                else if (date.includes("April")) month = 3;
                else if (date.includes("May")) month = 4;
                else if (date.includes("June")) month = 5;
                else if (date.includes("July")) month = 6;
                else if (date.includes("August")) month = 7;
                else if (date.includes("September")) month = 8;
                else if (date.includes("October")) month = 9;
                else if (date.includes("November")) month = 10;
                else if (date.includes("December")) month = 11;
                
                if (year && month !== null) {
                    const key = `${year}-${month}`;
                    if (!eventsByDate[key]) {
                        eventsByDate[key] = [];
                    }
                    eventsByDate[key].push(event.id);
                }
            });
            
            // Create timeline markers
            const startYear = 2021;
            const endYear = 2024;
            const totalMonths = (endYear - startYear + 1) * 12;
            
            // Add year labels
            for (let year = startYear; year <= endYear; year++) {
                const yearLabel = document.createElement('div');
                yearLabel.className = 'year-label';
                yearLabel.textContent = year;
                
                // Position relative to start year
                const yearPosition = ((year - startYear) * 12) / totalMonths;
                yearLabel.style.left = `${yearPosition * 100}%`;
                
                timelineBar.appendChild(yearLabel);
            }
            
            // Add markers for each month with events
            Object.keys(eventsByDate).forEach(key => {
                const [year, month] = key.split('-').map(Number);
                
                // Calculate position on timeline
                const monthsSinceStart = (year - startYear) * 12 + month;
                const position = monthsSinceStart / totalMonths;
                
                // Create marker
                const marker = document.createElement('div');
                marker.className = 'bar-marker';
                marker.dataset.ids = eventsByDate[key].join(',');
                marker.style.left = `${position * 100}%`;
                
                // Create label
                const label = document.createElement('div');
                label.className = 'bar-label';
                
                // Get month name
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                label.textContent = `${monthNames[month]} ${year}`;
                label.style.left = `${position * 100}%`;
                
                // Add click event
                marker.addEventListener('click', function() {
                    const ids = this.dataset.ids.split(',');
                    
                    // Clear any active markers
                    document.querySelectorAll('.bar-marker.active').forEach(m => {
                        m.classList.remove('active');
                    });
                    
                    // Set this marker as active
                    this.classList.add('active');
                    
                    // Highlight associated events
                    document.querySelectorAll('.timeline-item, .grid-item').forEach(item => {
                        if (ids.includes(item.dataset.id)) {
                            item.style.borderLeft = '4px solid var(--accent)';
                            item.style.borderRight = '4px solid var(--accent)';
                            
                            // Scroll to first matching item
                            if (item.classList.contains('timeline-item') && ids.indexOf(item.dataset.id) === 0) {
                                item.scrollIntoView({behavior: 'smooth', block: 'center'});
                            }
                        } else {
                            item.style.borderLeft = '';
                            item.style.borderRight = '';
                        }
                    });
                });
                
                timelineBar.appendChild(marker);
                timelineBar.appendChild(label);
            });
            
            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Filter items
                    document.querySelectorAll('.timeline-item, .grid-item').forEach(item => {
                        if (filter === 'all' || item.dataset.category === filter) {
                            item.style.display = '';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
            
            // Search functionality
            const searchInput = document.getElementById('search-input');
            
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                
                if (searchTerm.length > 1) {
                    document.querySelectorAll('.timeline-item, .grid-item').forEach(item => {
                        const content = item.textContent.toLowerCase();
                        
                        if (content.includes(searchTerm)) {
                            item.style.display = '';
                            item.style.borderLeft = '4px solid var(--warning)';
                            item.style.borderRight = '4px solid var(--warning)';
                        } else {
                            item.style.display = 'none';
                            item.style.borderLeft = '';
                            item.style.borderRight = '';
                        }
                    });
                } else {
                    // Reset display if search term is too short
                    document.querySelectorAll('.timeline-item, .grid-item').forEach(item => {
                        item.style.display = '';
                        item.style.borderLeft = '';
                        item.style.borderRight = '';
                    });
                    
                    // Re-apply any active filter
                    const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
                    if (activeFilter !== 'all') {
                        document.querySelectorAll('.timeline-item, .grid-item').forEach(item => {
                            if (item.dataset.category !== activeFilter) {
                                item.style.display = 'none';
                            }
                        });
                    }
                }
            });
            
            // View toggle functionality
            const viewButtons = document.querySelectorAll('.view-btn');
            const views = {
                'timeline': document.querySelector('.timeline'),
                'grid': document.querySelector('.grid-container'),
                'connections': document.querySelector('.connection-map')
            };
            
            viewButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const view = this.dataset.view;
                    
                    // Update active button
                    viewButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected view, hide others
                    Object.keys(views).forEach(key => {
                        if (key === view) {
                            views[key].style.display = key === 'grid' ? 'grid' : 'block';
                            views[key].classList.add('active-view');
                        } else {
                            views[key].style.display = 'none';
                            views[key].classList.remove('active-view');
                        }
                    });
                    
                    // Initialize network diagram if connections view is selected
                    if (view === 'connections') {
                        initializeNetworkDiagram();
                    }
                });
            });
            
            // Person profile functionality
            const personProfile = document.querySelector('.person-profile');
            const overlay = document.querySelector('.overlay');
            
            // Add click event to person tags
            document.querySelectorAll('.person').forEach(personTag => {
                personTag.addEventListener('click', function() {
                    const personId = this.dataset.person;
                    const person = people.find(p => p.id === personId);
                    
                    if (person) {
                        // Populate profile
                        personProfile.querySelector('.profile-img').textContent = person.name.charAt(0);
                        personProfile.querySelector('.profile-title h3').textContent = person.name;
                        personProfile.querySelector('.profile-title p').textContent = person.role;
                        personProfile.querySelector('.profile-content p').textContent = person.bio;
                        
                        // Populate events
                        const eventsList = personProfile.querySelector('.events-list');
                        eventsList.innerHTML = '';
                        
                        if (person.events.length > 0) {
                            person.events.forEach(eventId => {
                                const event = timelineData.find(e => e.id == eventId);
                                if (event) {
                                    const eventLink = document.createElement('a');
                                    eventLink.className = 'event-link';
                                    eventLink.textContent = `${event.date}: ${event.title}`;
                                    eventLink.href = '#';
                                    eventLink.dataset.eventId = event.id;
                                    
                                    eventLink.addEventListener('click', function(e) {
                                        e.preventDefault();
                                        
                                        // Close profile
                                        closeProfile();
                                        
                                        // Find and scroll to event
                                        const eventItem = document.querySelector(`.timeline-item[data-id="${this.dataset.eventId}"]`);
                                        if (eventItem) {
                                            eventItem.scrollIntoView({behavior: 'smooth', block: 'center'});
                                            eventItem.style.borderLeft = '4px solid var(--accent)';
                                            eventItem.style.borderRight = '4px solid var(--accent)';
                                            
                                            // Remove highlight after a delay
                                            setTimeout(() => {
                                                eventItem.style.borderLeft = '';
                                                eventItem.style.borderRight = '';
                                            }, 3000);
                                        }
                                    });
                                    
                                    eventsList.appendChild(eventLink);
                                }
                            });
                        } else {
                            eventsList.innerHTML = '<p>No direct involvement in documented events.</p>';
                        }
                        
                        // Show profile
                        personProfile.classList.add('active');
                        overlay.classList.add('active');
                    }
                });
            });
            
            // Close profile when clicking X button
            personProfile.querySelector('.profile-close').addEventListener('click', closeProfile);
            
            // Close profile when clicking overlay
            overlay.addEventListener('click', closeProfile);
            
            function closeProfile() {
                personProfile.classList.remove('active');
                overlay.classList.remove('active');
            }
            
            // Initialize network diagram for connection view
            function initializeNetworkDiagram() {
                const networkContainer = document.getElementById('network-diagram');
                
                if (typeof vis === 'undefined') {
                    // Load vis.js library dynamically if not already loaded
                    const script = document.createElement('script');
                    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js';
                    document.head.appendChild(script);
                    
                    const style = document.createElement('link');
                    style.rel = 'stylesheet';
                    style.type = 'text/css';
                    style.href = 'https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css';
                    document.head.appendChild(style);
                    
                    script.onload = function() {
                        createNetworkGraph();
                    };
                } else {
                    createNetworkGraph();
                }
            }
            
            function createNetworkGraph() {
                // Fallback if vis.js couldn't be loaded
                const networkContainer = document.getElementById('network-diagram');
                networkContainer.innerHTML = `
                    <div style="padding: 20px; text-align: center;">
                        <h3>Interactive Connection Map</h3>
                        <p>This would show the connections between the following key people:</p>
                        <ul style="list-style: none; margin-top: 20px;">
                            ${people.map(person => `<li><strong>${person.name}</strong> - ${person.role}</li>`).join('')}
                        </ul>
                        <p style="margin-top: 20px;">The network would visualize how these individuals are connected through the ${timelineData.length} events in the timeline.</p>
                    </div>
                `;
            }
            
            // Add animation when scrolling
            function checkVisibility() {
                const timelineItems = document.querySelectorAll('.timeline-item');
                const gridItems = document.querySelectorAll('.grid-item');
                
                const isInViewport = el => {
                    const rect = el.getBoundingClientRect();
                    return (
                        rect.top >= 0 &&
                        rect.left >= 0 &&
                        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                    );
                };
                
                const isPartiallyVisible = el => {
                    const rect = el.getBoundingClientRect();
                    const windowHeight = (window.innerHeight || document.documentElement.clientHeight);
                    const windowWidth = (window.innerWidth || document.documentElement.clientWidth);
                    
                    const vertInView = (rect.top <= windowHeight) && ((rect.top + rect.height) >= 0);
                    const horInView = (rect.left <= windowWidth) && ((rect.left + rect.width) >= 0);
                    
                    return vertInView && horInView;
                };
                
                timelineItems.forEach(item => {
                    if (isPartiallyVisible(item)) {
                        item.classList.add('visible');
                    }
                });
                
                gridItems.forEach(item => {
                    if (isPartiallyVisible(item)) {
                        item.classList.add('visible');
                    }
                });
            }
            
            // Run check on load
            checkVisibility();
            
            // Run check on scroll
            window.addEventListener('scroll', checkVisibility);
        });
    </script>


</body></html>ß